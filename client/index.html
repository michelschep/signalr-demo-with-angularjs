<!DOCTYPE html>
<html ng-app="signalRApp">
<head>
	<title>Example Angular + SignalR</title>
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
	<script src="bower_components/jquery/dist/jquery.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
</head>
<body ng-controller="MessagesController">
	<div class="container">
		<h1>GoldCard</h1>

		<!-- <p>Client side <a href="https://github.com/SignalR/SignalR/wiki/SignalR-JS-Client">signalr-js-client</a></p> -->
		<hr/>

		<ul class="nav nav-tabs">
			<li class="active"><a href="#listTab" data-toggle="tab">List</a></li>
			<li><a href="#queryTab" data-toggle="tab">Query</a></li>
			<li><a href="#connectionTab" data-toggle="tab">Connection</a></li>
			<li><a href="#statusTab" data-toggle="tab">Status</a></li>
		</ul>

		<div class="tab-content">
			<div id="connectionTab" class="tab-pane">
				<h3>Connection</h3>

				<button ng-click="makeConnection()">Make Connection</button>
				<button ng-click="stopConnection()">Stop Connection</button>

				<p>Status Connection: <b>{{status}}</b></p>
				<p>Connection id: <b>{{connectionId}}</b></p>

				<a href="http://localhost:8088/signalr/hubs">js meta data for hubs</a>
				
			<!-- 	<hr/>
				
				<h1>Message from server</h1>
				<p ng-bind-html="message" compile-template></p>
				<hr/>

				<h1>Send message to other clients</h1>
				<input ng-model="newMessage" ng-change="sendMessage(newMessage)" />
				
				<h1>Message from other client</h1>
				<p>Client: <b>{{messageFromOtherClient.Name}}</b>
				<p>Message: <b>{{messageFromOtherClient.Message}}</b> -->
			</div>
			<div id="listTab" class="tab-pane fade">
				<h3>List of items</h3>
				  <table>
					    <tr>
					      <th><a href="" ng-click="predicate = 'name'; reverse=false">Id</a>
					          (<a href="" ng-click="predicate = '-name'; reverse=false">^</a>)</th>
					      <th><a href="" ng-click="predicate = 'phone'; reverse=!reverse">Title</a></th>
					    </tr>
					    <tr ng-repeat="item in items | orderBy:predicate:reverse">
					      <td>{{item.id}}</td>
					      <td>{{item.title}}</td>
					    </tr>
  					</table>
			</div>
			<div id="queryTab" class="tab-pane fade in active">
				<h3>Execute query</h3>
				<form ng-submit="submit(query)">
					<input name="query" ng-model="query">
					<input type="submit" id="submit" value="Submit" />
				</form>

  					<h4>requests</h4>

				<table class="table">
					    <tr>
					      <th>Id</th>
					      <th>Query</th>
					      <th>Status</th>
					    </tr>
					    <tr ng-repeat="request in requests">
					      <td>{{request.serverRequest.messageId}}</td>
					      <td>{{request.serverRequest.query}}</td>
					      <td>{{request.status}}</td>
					    </tr>
  					</table>

  					<h4>responses</h4>
  					<table class="table">
					    <tr>
					      <th>Id</th>
					    </tr>
					    <tr ng-repeat="response in responses">
					      <td>{{response.messageId}}</td>
					    </tr>
  					</table>
			</div>
			<div id="statusTab" class="tab-pane fade">
				<h3>Status Info</h3>
				<div>some status info (background requests)</div>
				<pre>{{items|json}}</pre>
			</div>
		</div>
	</div>

	<script src="bower_components/angular/angular.js"></script>
	<script src="bower_components/signalr/jquery.signalR.js"></script>
	<script src="scripts/angular-signalr.js"></script>
	<script src="http://localhost:8088/signalr/hubs"></script>
</body>
</html>
